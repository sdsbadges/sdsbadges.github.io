(window["webpackJsonpsdsbadges.github.io"]=window["webpackJsonpsdsbadges.github.io"]||[]).push([[0],{43:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},47:function(e,t,a){e.exports=a(78)},52:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},74:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(19),s=a.n(r),c=(a(52),a(8)),l=a(9),i=a(11),u=a(10),m=a(12),d=a(16),p=a.n(d),h=a(17),g=a(20),f=(a(63),function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.createElement("div",{className:"Home"},n.createElement("div",{className:"lander"},n.createElement("h1",null,"Home Page"),n.createElement("p",null,"Eventually will hold all of the sub applications")))}}]),t}(n.Component)),v=a(79),b=a(80),E=a(81),O=a(82),k=a(83),j=a(84),w=a(85),S=p.a.createActions({UserLogin:{children:["completed","catchException","failed"]},Logout:{}}),y=function(e){function t(){var e;Object(c.a)(this,t),e=Object(i.a)(this,Object(u.a)(t).call(this));var a=sessionStorage.getItem("token");return e.state={isAuthenticated:null!=a,errorMessage:null,loading:!1,AuthServerURL:""},e.listenables=[S],e.loadSettings(),e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"onUserLogin",value:function(e,t){this.setState({loading:!0,errorMessage:null}),setTimeout(function(){S.UserLogin.completed({access_token:"FAKE_TOKE"})},2e3)}},{key:"onUserLoginCompleted",value:function(e){e.access_token?(sessionStorage.setItem("token",e.access_token),this.setState({isAuthenticated:null!==e.access_token,loading:!1})):S.UserLogin.failed(e)}},{key:"onUserLoginCatchException",value:function(e){console.log("POST - UserStore/UserLogin threw exception: ".concat(e.message,", stack: ").concat(e.stack)),this.setState({errorMessage:e.message,loading:!1})}},{key:"onUserLoginFailed",value:function(e){console.log("POST - UserStore/UserLogin failed with error:".concat(e.error)),this.setState({errorMessage:e.error_description,loading:!1})}},{key:"onLogout",value:function(){sessionStorage.clear(),this.setState({isAuthenticated:!1})}},{key:"loadSettings",value:function(){var e=this,t=new XMLHttpRequest;t.open("GET","settings.json",!0),t.setRequestHeader("Content-Type","application/json"),t.onreadystatechange=function(){if(t.readyState===XMLHttpRequest.DONE)if(200===t.status){var a=JSON.parse(t.response);e.setState(a),console.log("[UserStore] settings.")}else setInterval(function(){e.loadSettings()},5e3),console.error("[UserStore] Error during request: status = ".concat(t.status," ").concat(t.statusText))},t.send()}}]),t}(p.a.Store);p.a.initStore(y);a(64);var N=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).validateForm=function(){return a.state.username.length>0&&a.state.password.length>0},a.handleUsernameChange=function(e){a.setState({username:e.target.value})},a.handlePasswordChange=function(e){a.setState({password:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),S.UserLogin(a.state.username,a.state.password)},a.stores=[y],a.storeKeys=["errorMessage","loading"],a.state={username:"",password:"",errorMessage:null,loading:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"Login"},o.a.createElement(v.a,{onSubmit:this.handleSubmit},o.a.createElement(b.a,null,o.a.createElement(E.a,{for:"username"},"Username:"),o.a.createElement(O.a,{id:"username",type:"text",value:this.state.username,onChange:this.handleUsernameChange})),o.a.createElement(b.a,null,o.a.createElement(E.a,{for:"password"},"Password:"),o.a.createElement(O.a,{id:"password",type:"password",value:this.state.password,onChange:this.handlePasswordChange})),o.a.createElement(b.a,null,o.a.createElement(k.a,{disabled:!this.validateForm(),type:"submit"},"Login")),o.a.createElement("div",null,this.state.loading&&o.a.createElement(j.a,{color:"primary"}),null!=this.state.errorMessage&&o.a.createElement(w.a,{color:"danger"},this.state.errorMessage))))}}]),t}(p.a.Component),L=(a(74),a(43)),C=a.n(L),U=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleLogout=function(e){S.Logout()},a.documentClickHandler=function(e){return a.onDocumentClick(e)},a.dropDown=null,a.button=null,a.stores=[y],document.addEventListener("click",a.documentClickHandler),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.documentClickHandler)}},{key:"componentDidCatch",value:function(e,t){console.log(e.message)}},{key:"render",value:function(){var e,t=this,a=o.a.createElement("div",{className:"col"}),n=o.a.createElement("div",{className:"col mr-0"});return this.state.isAuthenticated&&(a=o.a.createElement("div",{className:"col"},o.a.createElement("button",{ref:function(e){t.button=e},className:"navbar-toggler p-0 border-0 float-left",type:"button","data-toggle":"offcanvas",onClick:function(){t.setState({isOpen:!t.state.isOpen})}},o.a.createElement("span",{className:"navbar-toggler-icon"})),o.a.createElement("a",{className:"navbar-brand float-left pt-0 d-none d-sm-block",href:"/"})),e=o.a.createElement("div",{ref:function(e){t.dropDown=e},className:"navbar-collapse offcanvas-collapse".concat(this.state.isOpen?" open":"")},o.a.createElement("button",{className:"navbar-toggler p-0 border-0 float-right",type:"button","data-toggle":"offcanvas",onClick:function(){t.setState({isOpen:!t.state.isOpen})}},o.a.createElement("i",{className:"mdi mdi-close"})),o.a.createElement("ul",{className:"navbar-nav mr-auto"},o.a.createElement("li",{className:"nav-item"},o.a.createElement("a",{className:"nav-link",href:"/link1"},o.a.createElement("i",{className:"mdi mdi-timetable"}),o.a.createElement("span",null,"Link 1"))),o.a.createElement("li",{className:"nav-item"},o.a.createElement("a",{className:"nav-link",href:"/link2"},o.a.createElement("i",{className:"mdi mdi-message-text"}),o.a.createElement("span",null,"Link 2"))),o.a.createElement("li",{className:"nav-item"},o.a.createElement(k.a,{onClick:this.handleLogout},"Logout")))),n=o.a.createElement("div",{className:"col mr-0"})),o.a.createElement("nav",{className:"navbar fixed-top row"},a,o.a.createElement("div",{className:"col"},o.a.createElement("a",{className:"navbar-brand-img",href:"/"},o.a.createElement("img",{src:C.a,alt:"Temp Logo"}))),n,e)}},{key:"onDocumentClick",value:function(e){this.button&&(this.button===e.target||this.button.contains(e.target))||this.dropDown&&!this.dropDown.contains(e.target)&&this.setState({isOpen:!1})}}]),t}(p.a.Component),x=a(21);var A=function(e){var t=e.component,a=e.props,n=Object(x.a)(e,["component","props"]),r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href;e=e.replace(/[[]]/g,"\\$&");var a=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)","i").exec(t);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null}("redirect");return o.a.createElement(h.b,Object.assign({},n,{render:function(e){return a.isAuthenticated?o.a.createElement(h.a,{to:""===r||null===r?"/":r}):o.a.createElement(t,Object.assign({},e,a))}}))},D=function(e){var t=e.component,a=e.props,n=Object(x.a)(e,["component","props"]);return o.a.createElement(h.b,Object.assign({},n,{render:function(e){return a.isAuthenticated?o.a.createElement(t,Object.assign({},e,a)):o.a.createElement(h.a,{to:"/login?redirect=".concat(e.location.pathname).concat(e.location.search)})}}))},M=(a(77),function(){return n.createElement("div",{className:"NotFound sub-app"},n.createElement("h3",null,"Sorry, page not found!"))}),H=function(e){var t=e.childProps;return n.createElement(h.d,null,n.createElement(D,{path:"/",exact:!0,component:f,props:t}),n.createElement(D,{path:"/home",exact:!0,component:f,props:t}),n.createElement(A,{path:"/login",exact:!0,component:N,props:t}),n.createElement(h.b,{component:M}))},P=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).stores=[y],a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e={isAuthenticated:this.state.isAuthenticated};return n.createElement(g.a,null,n.createElement(U,null),n.createElement(H,{childProps:e}))}}]),t}(d.Component),T=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.createElement(P,null)}},{key:"componentDidCatch",value:function(e,t){console.log(e.message)}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[47,1,2]]]);
//# sourceMappingURL=main.1563dc7e.chunk.js.map